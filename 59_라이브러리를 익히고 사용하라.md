## 59 라이브러리를 익히고 사용하라

무작위 정수 하나를 만들기 위해 다음과 같은 메서드를 만들 수 있다.

```java
static Random rnd = new Random();

static int random(int n) {
    return Math.abs(rnd.nextInt()) % n;
}
```

괜찮은 듯 보여도 문제를 세 가지나 내포하고 있다. 첫 번째, `n`이 그리 크지 않은 2의 제곱수라면 얼마 지나지 않아 같은 수열이 반복된다. 두 번째, `n`이 2의 제곱수가 아니라면 몇몇 숫자가 평균적으로 더 자주 반환된다. `n` 값이 크면 이 현상은 더 두드러진다. 세 번째, 지정한 범위 '바깥'의 수가 종종 튀어나올 수 있다. `rnd.nextInt()`가 반환한 값을 `Math.abs()`를 이용해 음수가 아닌 정수로 매핑하기 때문이다.  `nextInt()`가 `Integer.MAX_VALUE`를 반환하면 `Math.abs()`도 `Integer.MAX_VALUE`를 반환하고, 나머지 연산자(%)는 음수를 반환해버린다.

<br />

표준 라이브러리를 사용하면,

1. 그 코드를 작성한 전문가의 지식과 우리보다 앞서 사용한 다른 프로그래머들의 경험을 활용할 수 있다.
2. 핵심적인 일과 크게 관련 없는 문제를 해결하느라 시간을 허비하지 않아도 된다.
3. 따로 노력하지 않아도 지속적해서 성능이 개선된다.
4. 기능이 점점 많아진다.
5. 작성한 코드가 많은 사람에게 낯익은 코드가 된다.