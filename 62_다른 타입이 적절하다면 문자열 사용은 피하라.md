## 62 다른 타입이 적절하다면 문자열 사용을 피하라

문자열은 다른 값 타입을 대신하기에 적합하지 않다. 입력받을 데이터가 진짜 문자열일 때만 그렇게 하는 게 좋다. 받은 데이터가 수치형이라면 `int`, `float`, `BigInteger` 등 적당한 수치 타입으로 변환해야 한다. '예/아니오' 질문의 답이라면 적절한 열거 타입이나 `boolean`으로 변환해야 한다. 기본 타입이든 참조 타입이든 적절한 값 타입이 있다면 그것을 사용하고, 없다면 새로 하나 작성한다.

<br />

- **문자열은 열거 타입을 대신하기에 적합하지 않다.**

  상수를 열거할 때는 문자열보다는 열거 타입이 월등히 낫다.

- **문자열은 혼합 타입을 대신하기에 적합하지 않다.**

  여러 요소가 혼합된 데이터를 하나의 문자열로 표현하는 것은 대체로 좋지 않은 생각이다.

  ```java
  String compoundKey = className + "#" + i.next();
  ```

  위 코드는 단점이 많은 방식이다. 혹여라도 두 요소를 구분해 주는 문자 #이 두 요소 중 하나에서 쓰였다면 혼란스러운 결과를 초래한다. 각 요소를 개별로 접근하려면 문자열을 파싱해야 해서 느리고, 귀찮고, 오류 가능성도 커진다. 그렇기 때문에 차라리 전용 클래스를 새로 만드는 편이 낫다.

- **문자열은 권한을 표현하기에 적합하지 않다.**

  ```java
  public class ThreadLocal {
      // 객체 생성 불가
      private ThreadLocal() { } 
      
      // 현 스레드의 값을 키로 구분해 저장한다.
      public static void set(String key, Object value);
      
      // (키가 가리키는) 현 스레드의 값을 반환한다.
      public static Object get(String key);
  }
  ```

  이 방식의 문제는 스레드 구분용 문자열 키가 전역 이름공간에서 공유된다는 점이다. 이 방식이 의도대로 동작하려면 각 클라이언트가 고유한 키를 제공해야 한다. 그런데 만약 두 클라이언트가 서로 소통하지 못해 같은 키를 쓰기로 결정한다면, 의도치 않게 같은 변수를 공유하게 된다.

